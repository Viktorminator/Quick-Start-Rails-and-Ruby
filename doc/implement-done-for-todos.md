## –°–æ–∑–¥–∞–Ω–∏–µ "—Å–¥–µ–ª–∞–Ω–æ" –¥–ª—è Todos

–ú—ã –¥–æ–±–∞–≤–∏–º "–ø–æ–ª—É—á–∞—Ç–µ–ª—å" –∏ "—É—Å—Ç–∞–Ω–æ–≤—â–∏–∫" –¥–ª—è –Ω–∞—à–µ–π Todo-–º–æ–¥–µ–ª–∏, —Ç–æ–≥–¥–∞ –Ω–∞—à –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Å–º–æ–∂–µ—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –∏ –Ω–∞—à–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä—ã —Å–º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å –µ—ë.
–û–±–æ–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª–µ `done_at`, –∫–æ—Ç–æ—Ä–æ–µ –º—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –≤–Ω–∞—á–∞–ª–µ. –ú–µ—Ç–æ–¥ "done", –ø–æ–ª—É—á–∞—Ç–µ–ª—å –±—É–¥–µ—Ç –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø–æ–ª–µ –Ω–∞ –ø—É—Å—Ç–æ—Ç—É –∏ —Å–æ–æ–±—â–∞—Ç—å:

```
def done
  !done_at.to_s.empty?
end
```

–î–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ –∫ –∫–ª–∞—Å—Å—É –º–æ–¥–µ–ª–∏ –≤ `app/models/todo.rb`. –£—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –Ω–µ–º–Ω–æ–≥–æ —Å–ª–æ–∂–Ω–µ–µ, –Ω–æ –≤—Å—ë —Ä–∞–≤–Ω–æ –æ–Ω –ø—Ä–æ—Å—Ç–æ–π:

```
def done=(toggle)
  update(done_at: (toggle == "true" ? DateTime.now : nil))
end
```

–û–Ω –≤—ã–∑—ã–≤–∞–µ—Ç `update` —Å –∞—Ç—Ç—Ä–∏–±—É—Ç–æ–º `done_at`. –ó–Ω–∞—á–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç "toggle", –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –æ—Ç JavaScript, –∫–æ—Ç–æ—Ä—ã–π –º—ã –¥–æ–±–∞–≤–∏–ª–∏ —Ä–∞–Ω—å—à–µ. –ï—Å–ª–∏ –æ–Ω –≤—ã–¥–∞—ë—Ç "true" (todo –Ω–µ –æ—Ç–º–µ—á–µ–Ω), —Ç–æ –æ–Ω –¥–æ–ª–∂–µ–Ω —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è "done_at" –≤ —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è. –ï—Å–ª–∏ –æ–Ω –Ω–µ "true", —Ç–æ –æ–Ω —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –µ–≥–æ –≤ `nil`, —á—Ç–æ –∑–Ω–∞—á–∏—Ç –æ—á–∏—Å—Ç–∏—Ç.

–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –≤—ã –¥–æ–±–∞–≤–∏–ª–∏ –º–µ—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–ª—è –Ω–∞—à–µ–≥–æ –∫–ª–∞—Å—Å–∞ –º–æ–¥–µ–ª–∏, –≤–∞–º –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∞—Ç—Ç—Ä–∏–±—É—Ç "done" –∫ "—Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–º" –∞—Ç—Ç—Ä–∏–±—É—Ç–∞–º –≤ TodosController. –ò–∑–º–µ–Ω–∏—Ç–µ –∫–æ–¥ `todo_params` –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π:

```
def todo_params
  params.require(:todo).permit(:description, :done)
end
```

–ü–æ–∫–∞ –º—ã –∑–¥–µ—Å—å, –¥–∞–≤–∞–π—Ç–µ —Å–º–µ–Ω–∏–º –ø–æ—Ä—è–¥–æ–∫ –≤ –¥–µ–π—Å—Ç–≤–∏–∏ index. –ú—ã —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã –Ω–∞—à–∏ todos –±—ã–ª–∏ –≤ *—É–±—ã–≤–∞—é—â–µ–º* –ø–æ—Ä—è–¥–∫–µ, —á—Ç–æ–±—ã –Ω–∞—à–∏ –Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –±—ã–ª–∏ –Ω–∞–≤–µ—Ä—Ö—É. –ü–æ—ç—Ç–æ–º—É –≤–æ—Ç –∫–∞–∫ –Ω–∞—à–µ index-–¥–µ–π—Å—Ç–≤–∏–µ –¥–æ–ª–∂–Ω–æ –≤—ã–≥–¥–ª—è–¥–µ—Ç—å:

```
def index
  @todos = Todo.all.order('created_at DESC')
end
```

–ú—ã –¥–æ–±–∞–≤–∏–ª–∏ `.order('created_at DESC')` –∫ `all` –≤—ã–∑–æ–≤—É; `DESC` —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ "descending" (—É–±—ã–≤–∞—é—â–∏–π).

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ "–Ω–∏—á–æ—Å–µ"!
–°—Ç–∞–≤–ª—é –Ω–∞ —Ç–æ, —á—Ç–æ –∏–º–µ–Ω–Ω–æ —Ç–∞–∫ –Ω–∞—á–∏–Ω–∞–ª–∞—Å—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ [Wunderlist](http://wunderlist.com/)!

üíæ [–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å–¥–µ–ª–∞–Ω–æ –Ω–∞ Todo –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ](https://github.com/bastilian/todo-application/commit/18f5ce3ef9a6a57ff76c7fc54abb472ff1515721)
